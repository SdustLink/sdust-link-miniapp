<view>
        <layout title="添加课程" v-if="edit !== -2">
            <view class="a-flex">
                <view class="a-input-con-line a-mb y-center a-mt a-flex-full">
                    <view>课程名:</view>
                    <input class="a-input" v-model="unit.className" placeholder="必填" />
                </view>
                <view class="a-input-con-line a-mb y-center a-flex-full">
                    <view>教室:</view>
                    <input class="a-input" v-model="unit.classroom" placeholder="必填" />
                </view>
            </view>
            <view class="a-flex">
                <view class="a-input-con-line a-mb y-center a-flex-full">
                    <view>教师名:</view>
                    <input class="a-input" v-model="unit.teacherName" placeholder="选填" />
                </view>
                <view class="a-input-con-line a-mb y-center a-flex-full">
                    <picker
                        class="x-full"
                        change="dayPickerChange"
                        :value="unit.day.index"
                        :range="unit.day.range"
                    >
                        <view class="a-flex-space-between y-center">
                            <view>日期:</view>
                            <view class="y-center">
                                <view>周 {{ unit.day.range[unit.day.index] }}</view>
                            </view>
                            <view></view>
                        </view>
                    </picker>
                </view>
            </view>
            <view class="a-flex">
                <view class="a-input-con-line a-mb a-flex-full">
                    <picker
                        class="x-full"
                        mode="multiSelector"
                        change="weekPickerChange"
                        :value="unit.week.index"
                        :range="unit.week.range"
                    >
                        <view class="a-flex-space-between y-center">
                            <view>周次:</view>
                            <view class="y-center">
                                <view>第 {{ unit.week.range[0][unit.week.index[0]] }}</view>
                                <view class="a-lml a-lmr">-</view>
                                <view>{{ unit.week.range[1][unit.week.index[1]] }} 周</view>
                            </view>
                            <view></view>
                        </view>
                    </picker>
                </view>
                <view class="a-input-con-line a-mb a-flex-full">
                    <picker
                        class="x-full"
                        mode="multiSelector"
                        change="classPickerChange"
                        :value="unit.time.index"
                        :range="unit.time.range"
                    >
                        <view class="a-flex-space-between y-center">
                            <view>时间:</view>
                            <view class="a-flex">
                                <view>第 {{ unit.time.range[0][unit.time.index[0]] }}</view>
                                <view class="a-lml a-lmr">-</view>
                                <view>{{ unit.time.range[1][unit.time.index[1]] }} 节</view>
                            </view>
                            <view></view>
                        </view>
                    </picker>
                </view>
            </view>
            <view class="a-flex">
                <view class="a-btn a-btn-blue a-flex-full a-lmt" click="save(edit)">
                    {{ edit === -1 ? "添加" : "保存" }}
                </view>
                <view class="a-btn a-btn-orange a-flex-full a-lmt a-lml" click="clear()">
                    重置
                </view>
            </view>
        </layout>

        <headslot title="课表管理">
            <view class="a-lmr y-full y-center">
                <view class="iconfont icon-jia" click="edit = -1"></view>
            </view>
        </headslot>

        <view class="a-lmt"></view>

        <view>
            <view v-for="(item, index) in tables" :key="index">
                <layout>
                    <view class="a-flex-space-between classes-con">
                        <view>
                            <view class="classname">
                                {{ item.className }}{{ edit === index ? "[编辑中]" : "" }}
                            </view>
                            <view class="a-lmt">{{ item.term }}</view>
                            <view class="a-lmt">第{{ item.weekStart }} - {{ item.weekEnd }}周</view>
                            <view class="a-flex a-lmt">
                                <view>周{{ item.day }}</view>
                                <view class="a-lml">
                                    第{{ item.timeStart }} - {{ item.timeEnd }}节
                                </view>
                            </view>
                        </view>
                        <view class="y-center">
                            <view class="x-center right-con">
                                <view class="classroom">{{ item.classroom }}</view>
                                <view class="a-lmt">{{ item.teacherName }}</view>
                                <view class="a-flex a-lmt">
                                    <view
                                        class="iconfont icon-bianji"
                                        click="editUnit(index)"
                                    ></view>
                                    <view
                                        class="iconfont icon-x a-lml"
                                        click="deleteUnit(index)"
                                    ></view>
                                </view>
                            </view>
                        </view>
                    </view>
                </layout>
            </view>
        </view>

        <layout v-if="!tables.length">
            <view class="y-center">
                <view class="a-dot" style="background: #eee"></view>
                <view>暂无课表数据</view>
            </view>
        </layout>

        <layout v-show="operate">
            <view class="a-flex">
                <view class="a-btn a-btn-blue x-full" click="submit()">保存</view>
                <view class="a-btn a-btn-orange x-full a-lml" click="clearAll()">清空</view>
            </view>
        </layout>

        <layout>
            <view class="tips-con">
                <view>注意：</view>
                <view>1. 课表目前只能添加数据，不能对原课表进行删除操作。</view>
                <view>2. 进行的操作必须在最后进行保存，否则操作会丢失。</view>
                <view>3. 数据以缓存形式保存在本地，清理缓存会导致数据丢失。</view>
            </view>
        </layout>
    </view>
